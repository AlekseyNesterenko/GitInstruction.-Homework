# **Инстуркция по работе с системой контроля версий GIT**

## Что такое GIT?

![Git logo](Git-Icon.png)

**Git** — система управления версиями с распределенной архитектурой.
В Git каждая рабочая копия кода сама по себе является репозиторием. Это позволяет всем разработчикам хранить историю изменений в полном объеме.

Система Git рассчитана прежде всего на создание веток и использование тегов. Поэтому процедуры с участием веток и тегов (например, объединение и возврат к предыдущей версии) сохраняются в истории изменений. Не все системы управления версиями обладают настолько широкими возможностями отслеживания.

Начинающим разработчикам, которые хотят приобрести ценные навыки работы с инструментами разработки ПО, следует изучить Git как одну из систем управления версиями.

## С чего начать?
Открываем программу ***Visual Studio Code***  и левом верхнем углу открываем **Терминал**.

Далее в поле Терминала необходимо ввести свое Имя и email, по которым Git будет вас идентифицировать. 
Для этого используем команды:

    git config –global user.name “имя для git”

    git config –global user.email “email для git”
Где в кавычках указывается ваше имя и электронная почта. 

Чтобы убедиться, что Git установлен и работает корректно, вводим команду в терминале:

    git --version

При корректной работе программы должны получить следующее сообщение:

    git version 2.37.2.windows.2

## 1. Инициализация репозитория

***Репозиторий Git*** — это виртуальное хранилище проекта. В нем можно хранить версии кода для доступа по мере необходимости.

Чтобы инициализировать новый репозиторий, и Git мог отслеживать изменения в проекте, нужно ввести в терминале команду:

    git init

После этого можно увидеть сообщение: 

    Initialized empty Git repository in C:/Users/lesha/OneDrive/Рабочий стол/Git/.git/

Что означает, что инициализирован репозиторий в папке, до которой указан путь. 

## 2. Проверка состояния репозитория

Важно постоянно отслеживать состояние проекта. Для этого используется следующая команда:

    git status

В зависимости от сообщения, которое последует после ввода команды, можно узнать в каком статусе находится проект. 

Например: 

    fatal: not a git repository (or any of the parent directories): .git

Данное сообщение указывает на то, что не проведена инициализация репозитория (команда git init).

    On branch master

    No commits yet

    nothing to commit (create/copy files and use "git add" to track)

Сообщение означает, что в проекте еще не было совершено никаких изменений. 

    On branch master
    Changes not staged for commit:
    (use "git add <file>..." to update what will be committed)
    (use "git restore <file>..." to discard changes in working directory)
        modified:   InstructionGit.md

    no changes added to commit (use "git add" and/or "git commit -a")

Означает, что есть неотслеживаемые изменения. 

    On branch master
    Changes to be committed:
    (use "git restore --staged <file>..." to unstage)
        modified:   InstructionGit.md

Означает, что изменения, внесенные в проект, добавлены для отслеживания, но не зафиксированы. 

 Минимальные знания английского языка позволяют без затруднений понять, в каком статусе находиться проект. 

Довольно полезной  является команда: 

    git diff

Она показывает текущие изменения проекта - отличия проекта от последней зафиксированной версии. 
 
 Следующая команда: 

    git log

Показывает версии проекта, которые были зафиксированы.

Выглядит это следующим образом:

    commit 4641a729fbbe3f6722357f5b24e0ad258680606a (HEAD -> master)
    Author: Aleksey Nesterenko <naa1205@bk.ru>
    Date:   Thu Aug 25 21:49:24 2022 +0700

    Git init info added

    commit 7aeb9d28e9c06aa7061cdfb59396c7ac4d93109d
    Author: Aleksey Nesterenko <naa1205@bk.ru>
    Date:   Thu Aug 25 21:41:46 2022 +0700

    Subheadings added

Где ***"commit 7aeb9d28e9c06aa7061cdfb59396c7ac4d93109d"*** показывает версию проекта с ее *идентификатором*. 

Для просмотра версий проекта в удобном виде без лишней информации о том, когда и кем были внесены изменения, можно использовать дополнительную функцию **ONELINE** для команды **git log**:

    git log --oneline

Выглядит это следующим образом:

    PS C:\Users\lesha\OneDrive\Рабочий стол\Git> git log --oneline
    b54f95b (HEAD -> master) git diff info added
    fb2a283 git status info added
    2b0af9d corrected git init info
    5e18e21 what to begin
    97c7167 git init additional info added

Таким образом можно в удобном виде просмотреть версии проекта. 

Еще одной дополнительной функцией команды **git log** является **ALL**:

    git log --all

Позволяет отобразить в терминале ВСЕ версии проекта. 

Такие дополнительные функции можно комбинировать, чтобы в одно действие получить необходимую информацию в удобном виде:

    git log --oneline --all

## 3. Добавление версионности

Одна из важнейших команд при работе с Git является 

    git add

Она сообщает Git, что вы хотите включить изменения в конкретном файле в следующий коммит.

После **add** при вводе команды, необходимо через проблем указать наименование файла, к которому планируется добавление новой версии. 

**Достаточно ввести несколько первых символов названия файла и  нажать кнопку **Tab**, и название файла полностью укажется в команде.*

## 4. Фиксация изменений

Неотъемлемой командой после **git add** является команда:

    git commit

Она "сохраняет" текущие изменения и создает версию файла/проекта для отслеживания с последними изменениями. 

К данной команде также применимы дополнительные функции. 

* **-m**  позволяет добавить сообщение к коммиту. В кавычках указывается необходимы комментарий;


      git commit -m "git add info added"

* **-a** выполнение коммита со всеми изменениями файле без ввода комманды git add;

        git commit -a

* **-am** (*для опытных пользователей*) эта комбинация параметров **-a** и **-m** создает коммит всех проиндексированных изменений и добавляет к коммиту  комментарий.

        git commit -am "Comment"

Важно после каждых изменений проводить коммиты, чтобы можно было отслеживать все изменения проекта. 

*! Изменения лучше всего "фиксировать" т.н. неделимыми группами. То есть, чтобы изменения можно было описать односложным комментарием.*

После проведения коммита можно увидеть следующее сообщение в терминале:

    [master d741700] git add info added
    1 file changed, 12 insertions(+), 2 deletions(-)

Что означает, что коммит успешно выполнен, и добавлена новая версия проекта. 

## 5. Переключение между версиями
 
При использовании команды **git log** можно увидеть список всех коммитов, которые были выполнены. 

    35a38b7 (HEAD -> master) git commit info added
    d741700 git add info added
    d237d75 git log info added
    b54f95b git diff info added
    fb2a283 git status info added
    2b0af9d corrected git init info
    5e18e21 what to begin
    7c79167 git init additional info added
    54a28bd git general info added
    4641a72 Git init info added
    7aeb9d2 Subheadings added
    f5c3b4c Main header added
    55e5962 Inite commit

Для перехода к определенной версии комиита и просмотра состояния на определенный момент используется команда:

    git checkout
 
 Через пробел после слова **checkout** необходимо указать идентификатор коммита, который нужно просмотреть. 

    git checkout 7c79167

 Для перехода обратно к текущей версии проекта необходимо ввести:

    git checkout master

## 6. Ветвление

С точки зрения логики, **ветка** – это последовательность коммитов. Чтобы проще было понять, что такое ветка, рассматривайте ее как некоторую временную шкалу. Коммиты в ней – снимки интересных моментов, идущие друг за другом в хронологической последовательности.

**Преимущество веток в их независимости.** Вы можете вносить изменения в файлы в одной ветке, например, пробовать новую функцию, и они никак не скажутся на файлах в другой ветке. Изначально в репозитории одна ветка, но позже мы рассмотрим, как создавать другие.

### Просмотр существующих веток

Для просмотра всех существующих веток используется следующая команда:

    git branch

После ввода этой команда отобразится список всех веток, которые есть в проекте. При этом будет также отображено звездочкой (*), на какой ветке мы сейчас находимся: 

     branches_view
     create_branch
     delete_branch
    *master
     merging

Чтобы перейти в существующую ветку, необходимо к команде *CHECKOUT* дописать имя ветки: 

    git checkout <Имя_существующей_ветки>

### Создание новых веток

Для создания новой ветки необходимо ввести следующую команду:

    git branch <Имя_новой_ветки>

Где вместо "<Имя_новой_ветки>" указывается наименование ветки, которую хотим создать. 

Создавать можно необходимое количество веток в проекте.

### Слияние веток

После того как работа в ветке закончена, и информацию нужно перенести в основную ветку, нужно провести команду слияния веток.

    git merge <Имя_ветки>

Слияние проходит так, что вся информация, которая находится на ветке, добавиться в текущую. Поэтому всегда важно знать, в какой ветке вносятся изменения.

#### **Разрешение конфликтов**

В процессе слияния веток зачастую возникают конфликты. 
 
**Конфликт** возникает, когда в двух ветках была изменена одна и та же строка в файле или когда некий файл удален в одной ветке и отредактирован в другой. Как правило, конфликты возникают при работе в команде.

Большую часть слияний система Git способна обрабатывать самостоятельно с помощью функций автоматического слияния.

При возникновении конфликта можно наблюдать следующие строки в терминале:

    Auto-merging InstructionGit.md
    CONFLICT (content): Merge conflict in InstructionGit.md
    Automatic merge failed; fix conflicts and then commit the result.

Это означает, что необходимо вручную просмотреть, какую информацию нужно оставить. 
После ручной "модерации" необходимо провести коммит, чтобы изменения зафиксировались. 

### Удаление веток

После того, как работа в ветке закончена, и она слита с основной веткой, ее необходимо удалить. 

Для этого можно использовать ключ <-d> для команды *BRANCH*:

    git branch -d <Имя_ветки>

После успешного удаления ветки должно отобразиться следующее сообщение: 

    Deleted branch <Имя_ветки>
